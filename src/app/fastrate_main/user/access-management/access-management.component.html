<!-- <div class="horizontal-filter">
    <div class="user-add-section1"> -->
      <!-- <div class="user-header"> -->
      <!-- <div class="title">

      <h3 class="user-text">
        Manage User's Group
      </h3>
      </div>
    </div>

    

  </div> -->


  <div class="user-add-section">
  <div class="row">
    <div class="col-md-3 col-sm-3 col-xs-3 d-flex align-items-center">

    </div>
<app-loader *ngIf="userList==null"></app-loader>
    <div class="col-md-9 col-sm-9 col-xs-9">
      <div class="add-user-btn">

        
        <span>

          <button (click)="clearGroupName()"   data-bs-toggle="modal" data-bs-target="#staticBackdrop1"><svg
              xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M12 5V19M5 12H19" stroke="white" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>Add New Access Group</button>
        </span>

        <!-- <span>

          <button [routerLink]="['/eManager/user/add-user']" ><svg
            xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" >
            <path d="M12 5V19M5 12H19" stroke="white" stroke-width="1.5" stroke-linecap="round"
            stroke-linejoin="round" />
          </svg>{{"LC2-46M"|lang}}</button>
        </span> -->
        

      </div>
    </div>
  </div>
</div>


  <!-- <div class="user-add-section2">
    <label style="margin-left: 30px;" >Add New Access Group:</label>
   <div class="col-lg-3">
    <div class="input-group" style="height: 26px;">
        <div class="input-group-prepend">
            <span class="input-group-text" style="height: 34px;">
                <i class="la la-user">
                    <img src="assets/icons/user-icon.png">
                </i>
                
              </span>
        </div>
        <input type="text" class="form-control m-input" placeholder="Group Name" [(ngModel)]="groupName">
        <button class="btn-sm btn-primary" style="height: 34px;" (click)="createGroup()">Create Group</button>
    </div>
    <span class="m-form__help">Please enter access group name.</span>
   </div>
    
  </div>
    <div class="row">

     
    </div> -->
    <p-toast></p-toast>

  <div class="user-add-section">
    <div class="row">
      <div class="col-md-3 col-sm-3 col-xs-3 d-flex align-items-center">
  
      </div>
  
      <div class="col-md-9 col-sm-9 col-xs-9">
        <div class="add-user-btn">
          
  
        </div>
      </div>
    </div>
  </div>
  
  <div class="user-details-section">
    <table>
      <thead>
        <tr>
  
          <ng-container *ngFor="let header of tableHeaders;let i=index" >
            <th id="th{{i}}" class="width-{{header.width}}">
              <!-- <div class="um-tableHeader" style="display: flex;">
                <div class="sort-icon">
                </div>
                <div class="" >
                  <div ><span>.</span><span>.</span><span>.</span></div>
                  <div ><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                      viewBox="0 0 18 18" fill="none">
                      <path d="M4.5 9H13.5M2.25 4.5H15.75M6.75 13.5H11.25" stroke="#344054" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round" />
                    </svg></div>
                </div>
              </div> -->

              <div class="um-tableHeader" style="display: flex;">
                <div class="sort-icon">
                  
                </div>{{ header.label }}
                <!-- <div class="" (click)="showPopup(header.label)">
                  <div *ngIf="header.label!=filterth && header.label!='Added By' && header.label!='Added On'" class="dotsClick"><span>.</span><span>.</span><span>.</span></div>
                  <div *ngIf="header.label==filterth && header.label!='Added By' && header.label!='Added On'"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                      viewBox="0 0 18 18" fill="none">
                      <path d="M4.5 9H13.5M2.25 4.5H15.75M6.75 13.5H11.25" stroke="#344054" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round" />
                    </svg></div>
                </div> -->
              </div>
  
  
            </th>
          </ng-container>
          <th id="action" class="width-10 text-center action-data">Action</th>
        </tr>
      </thead>
      <tbody>
        <ng-container>
        <tr *ngFor="let group of userList" >
  
          <!-- <td id="userName">
           
          </td> -->

          <!-- <td>{{ group.groupid }}</td> -->
          <td>{{ group.groupname }}</td>
          <td>{{ group.createdby | date: 'dd/MM/yy'}}</td>
          <td>{{ group.createdon | date: 'dd/MM/yy'}}</td>
          <!-- <td>{{ group.lastmodifiedby }}</td> -->
          <td>{{ group.lastmodifiedon }}</td>
  
          <!-- <td id="email"></td>
          <td id="mobileNumber"></td>
          <td id="displayName"></td>
          <td id="displayName"></td>
          
  
          <td id="createdByName"></td>
          <td id="creationDate"></td> -->
          
          <td class="text-center action-data">
            <!-- <svg  data-bs-toggle="modal"
              data-bs-target="#staticBackdrop" (click)="showGroupDetails(group)" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              viewBox="0 0 16 16" fill="none">
              <g clip-path="url(#clip0_229_9307)">
                <path
                  d="M11.3334 2.00004C11.5085 1.82494 11.7163 1.68605 11.9451 1.59129C12.1739 1.49653 12.4191 1.44775 12.6667 1.44775C12.9143 1.44775 13.1595 1.49653 13.3883 1.59129C13.6171 1.68605 13.8249 1.82494 14 2.00004C14.1751 2.17513 14.314 2.383 14.4088 2.61178C14.5036 2.84055 14.5523 3.08575 14.5523 3.33337C14.5523 3.58099 14.5036 3.82619 14.4088 4.05497C14.314 4.28374 14.1751 4.49161 14 4.66671L5.00004 13.6667L1.33337 14.6667L2.33337 11L11.3334 2.00004Z"
                  stroke="#344054" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </g>
              <defs>
                <clipPath id="clip0_229_9307">
                  <rect width="16" height="16" fill="white" />
                </clipPath>
              </defs>
            </svg> -->
            <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M1 3.5V13h14V3.5H1zm11-2.5l1-1h-3l-1 1h-3v1h8V1zM2.5 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2H2.5z" fill="#344054"/>
            </svg> -->
            <img data-bs-toggle="modal" data-bs-target="#staticBackdrop" src="assets/icons/icons8-user-16.png"
             alt="User Icon" width="18" height="18" viewBox="0 0 18 18" fill="none" title="User" (click)="loadUserList(group)">

            <!-- <img data-bs-toggle="modal" data-bs-target="#staticBackdrop1" src="assets/icons/edit.png" 
            alt="Edit Icon" width="16" height="16" title="Edit" (click)="editGroup(group.groupid,group.groupname)" > -->

            <svg  (click)="editGroup(group.groupid,group.groupname)"
                            data-bs-toggle="modal" data-bs-target="#staticBackdrop1" xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <g clip-path="url(#clip0_229_9307)">
                                <path
                                    d="M11.3334 2.00004C11.5085 1.82494 11.7163 1.68605 11.9451 1.59129C12.1739 1.49653 12.4191 1.44775 12.6667 1.44775C12.9143 1.44775 13.1595 1.49653 13.3883 1.59129C13.6171 1.68605 13.8249 1.82494 14 2.00004C14.1751 2.17513 14.314 2.383 14.4088 2.61178C14.5036 2.84055 14.5523 3.08575 14.5523 3.33337C14.5523 3.58099 14.5036 3.82619 14.4088 4.05497C14.314 4.28374 14.1751 4.49161 14 4.66671L5.00004 13.6667L1.33337 14.6667L2.33337 11L11.3334 2.00004Z"
                                    stroke="#344054" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </g>
                        </svg>

            <!-- <img src="assets/icons/delete.png" alt="Delete Icon" width="16" height="16" title="Delete" (click)="deleteAccessGroup(group)"> -->


            <svg (click)="deleteAccessGroup(group)" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g id="Property 1=trash-2">
              <path id="Icon" d="M3 6H5M5 6H21M5 6V20C5 20.5304 5.21071 21.0391 5.58579 21.4142C5.96086 21.7893 6.46957 22 7 22H17C17.5304 22 18.0391 21.7893 18.4142 21.4142C18.7893 21.0391 19 20.5304 19 20V6H5ZM8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M10 11V17M14 11V17" stroke="#101828" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              </svg>
              

            <!-- <span>

              <button  data-bs-toggle="modal" data-bs-target="#staticBackdrop1"><svg
                  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M12 5V19M5 12H19" stroke="white" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>{{"LC2-46M"|lang}}</button>
            </span> -->
   
          </td>
        </tr>
      </ng-container>
      <tr *ngIf="userList && userList.length === 0">
        <td>No Record Found.</td>
        <!-- <td>{{"LC20-94M"|lang}}</td> -->
      </tr>
      </tbody>
    </table>
  
  
    <div class="b-pagination-outer" *ngIf="userList!=null">
        <div class="left-pagination">
          <span>{{ (currentPage - 1) * itemsPerPage + 1 }} - {{ (currentPage - 1) * itemsPerPage + userList.length }}
            {{"LC20-119M"|lang}} {{totalRecords}}</span>
        </div>
        <div class="right-pagination">
          <div class="show-result">
            <p>{{"LC20-42D"|lang}}:</p>
            <select class="custom-select" [(ngModel)]="itemsPerPage" (change)="loadAccessGroups(1)">
              <option value="10" id="page_10">10</option>
              <option value="20" id="page_20">20</option>
            </select>
          </div>
          <ul id="border-pagination">
            <li><a class="no-border" (click)="loadAccessGroups(1)"><img src="../../../../assets/images/chevron-left.svg"></a>
            </li>
            <li *ngFor="let page of totalPagesArray"> <a (click)="loadAccessGroups(page)"
                [class.active]="page == currentPage">{{page}}</a></li>
    
            <li><a class="no-border" (click)="loadAccessGroups(totalPages)"><img
                  src="../../../../assets/images/chevron-right.svg"></a></li>
          </ul>
        </div>
    
    
      </div> 
  
    
  </div>

  <!-- <div class="add-user-popup">
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog" style="max-width: 720px;">
        <div class="manageColSection">
            <div class="manageColSectionHeader">
                <h2 id="headingmanagecolumn">Users in Access Group:
                    <b>{{ selectedGroupName }}</b>
                </h2>
                <div class="selectCheck">
                    <p id="selectedlenghtmanagecolumn">10 Select</p>
           
                    <a class="closeCol" id="btnmanagecolumnclose">x</a>
                </div>

            </div>
            <div>
                <div class="searchCol">
                    <input type="search" id="inputsearch" [(ngModel)]="ManageSearchInput" (input)="filterItems()">
                </div>
            </div>
            <div class="list manListCol">
                <div class="selectSpace">
                    <input type="checkbox" id="checkboxselectallmangecolumn" />Select All
                </div>
                <ul *ngFor="let list of authorityNotList; let i = index">
                    <li>
                        <div>
                            <input type="checkbox" id="checkboxmangecolumdata{{i}}" [value]="list.userfullname" />
                            {{ i + 1 }}.{{ list.userfullname }}({{list.usercode}})
                        </div>
                    </li>
                </ul>
                <button type="button" id="btnapply"  
                class="common-btn btn-blue">Apply</button>
            </div>
        </div>
      
      </div>
    </div>
  </div>
  <div class="modalrole" >
    <div class="modal-role-content">
      <div class="select-role-popup">
        <div>
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title" id="staticBackdropLabel">{{"LC2-49D"|lang}}</h1>
              </div>
              <div class="modal-body">
                <div class="form">
  
                  <div >
                    <div class="billing">
                      <span><input type="checkbox" >
                        <label></label></span>
                      <p ><span > {{"permissions"|lang}}
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M12 10L8 6L4 10" stroke="#0083FD" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round" />
                          </svg></span></p>
                    </div>
                    <div >
                      <div  class="form-group prebilling"
                        >
                        <label style="font-size: 13px; font-weight: normal;"></label>
                        <div class="" style="display: flex; flex-direction: row; flex-wrap: wrap;">
                          <p style="margin-bottom: 0;"  class="billing-mdfy">
                            <span></span>
                          </p>
                        </div>
                      </div>
                    </div>
  
                  </div>
  
                </div>
                <div class="modal-footer">
                  <button type="button" id="common-btn btn-light-red" class="common-btn btn-light-red"
                     data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button>
                  <button type="button" id="common-btn btn-blu"
                    class="common-btn btn-blue">{{"LC20-50M"|lang}}</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modalrole" >
    <div class="modal-role-content" style="height: 100%;">
      <div class="select-role-popup">
        <div>
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title" id="staticBackdropLabel">{{"LC20-122M"|lang}} </h1>
              </div>
              <div class="modal-body">
                <div class="form">
                  <div class="fileDownloadRow">
                    <div>
                      <a  >{{"LC20-123M"|lang}}</a>
                    </div>
                    <div>
                      <input type="file" id="file"  />
                    </div>
                  </div>
                  
  
  
                  
                
                  <div class="modal-footer">
                    <button type="button" class="common-btn btn-light-red"
                      data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button>
                    <button type="button"  class="common-btn btn-blue">{{"LC20-33M"|lang}}</button>
                  </div>
                </div>
  
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->

  <div class="add-user-popup">
    <div class="modal fade"  id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1  class="modal-title" id="staticBackdropLabel">Users In Access Group : <b>{{ selectedGroupName }}</b></h1>
            <h1  class="modal-title" id="staticBackdropLabel" hidden>Users In Access Group : <b>{{ selectedGroupId }}</b></h1>
            <!-- <button type="button" id="cncl" (click)="detailsClose()" class="common-btn btn-light-red" data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button> -->
          </div>
          <div class="modal-header">
            <h1 *ngIf="showDetails" class="modal-title" id="staticBackdropLabel">{{"LC20-118M12"|lang}}</h1>
          </div>
          <div class="modal-body">
            
            <div class="col-sm-12">
              <div class="tags-input-wrapper">
                <label class="tags-input-lbl ">Users</label>
                <div class="tags-input-wrapper-scroll">
                <div *ngFor="let user of allUserList;let i=index;">
                  <div *ngIf="user.activeFlag=='Y'" class="user-tags">
                      <span *ngIf="user.activeFlag=='Y'">{{user?.userfullname}}
                        <span 
                           class="close-file-icon" (click)="DeleteUser(user?.username)">
                          <img src="../../../assets/images/close.svg" >
                        </span>
                        <!-- <span *ngIf="user.activeFlag=='Y'"
                          (click)="DeleteWatcher('REMOVE_USER',+Watcher.userWatcherId)" class="close-file-icon">
                          <img src="../../../assets/images/close.svg">
                        </span> -->
                      </span>
                    </div>
                </div>
                  <a (click)="viewUser()"  class="add-tags"><img
                    src="../../../assets/images/add-tag.svg"></a>
              </div>
              </div>
                <!-- </div>
                  <a (click)="addWatcher()" class="add-tags"><img
                    src="../../../assets/images/add-tag.svg"></a>
              </div> -->
            </div>
            <!-- <div  class="form" *ngIf="addUserVisible"> 
              <div class="form-group labelWhiteBg">
                    <p-multiSelect opened="true" [options]="allUserList" display="chip" 
                     optionLabel="userfullname" placeholder="Select User"  [virtualScroll]="true"
                    optionValue="username" [filter]="true"
                    [style]="{'width': '300px'}"
                    [virtualScrollItemSize]="43">
                  </p-multiSelect> -->
                  <!-- <button (click)="submitWatcherForm()" [style]="{'margin-inline':'10px'}" pButton pRipple label="Submit" class="p-button-success"></button> -->
              <!-- </div>
            </div> -->
            <div class="form" *ngIf="addUserVisible"> 
              <div class="form-group labelWhiteBg">
                <p-multiSelect [(ngModel)]="selectedUsers" [options]="allUserList_N" display="chip" 
                  optionLabel="userfullname" placeholder="Select User" [virtualScroll]="true"
                  optionValue="username" [filter]="true" [style]="{'width': '300px'}"
                  [virtualScrollItemSize]="43">
                </p-multiSelect>
                <!-- <button (click)="submitWatcherForm()" [style]="{'margin-inline':'10px'}" pButton pRipple label="Submit" class="p-button-success"></button> -->
              </div>
            </div>
            <!-- <div  class="form" *ngIf="addUserVisible"> 
              <div class="form-group labelWhiteBg">
                <form [formGroup]="WatcherForm" >
                    <p-multiSelect opened="true" [options]="WatcherUserList" display="chip" 
                    formControlName="username" optionLabel="fullName" placeholder="Select User"  [virtualScroll]="true"
                    optionValue="username" [filter]="true"
                    [style]="{'width': '300px'}"
                    [virtualScrollItemSize]="43">
                  </p-multiSelect>
                </form>
              </div>
            </div> -->
            <div class="modal-footer">
              <button type="button" id="cncl" (click)="detailsClose()" class="common-btn btn-light-red" data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button>
              <button  type="submit" class="common-btn btn-blue" (click)="saveUserList(selectedUsers)">{{"LC20-33M"|lang}}</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="add-user-popup">
    <div class="modal fade" id="staticBackdrop1" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div  class="modal-header">
            <!-- <h1 *ngIf="!editMode" class="modal-title" id="staticBackdropLabel1">Add New Access Group</h1>
            <h1 *ngIf="editMode"   class="modal-title" id="staticBackdropLabel1">Edit Access Group Name</h1> -->
            <h1 class="modal-title" id="staticBackdropLabel1">{{ editMode ? 'Edit Access Group Name' : 'Add New Access Group' }}</h1>
            
          </div>


          <div *ngIf="!showDetails" class="modal-header">
            <!-- <h1 *ngIf="!editbutton" class="modal-title" id="staticBackdropLabel">Add New Access Group</h1> -->
            <!-- <h1   *ngIf="editbutton"class="modal-title" id="staticBackdropLabel">Edit Access Group Name</h1> -->
            
          </div>

          <div class="modal-header">
            <h1 *ngIf="showDetails" class="modal-title" id="staticBackdropLabel">{{"LC20-118M"|lang}}</h1>
            
            
          </div>


          <div class="modal-body">
            <div  class="form">
              <!-- <form (ngSubmit)="createGroup()" [formGroup]="form"> -->
                <div id="details">
  
                  <!-- <div *ngIf="editMode"> -->
                  <div  class="form-group labelWhiteBg">
                    <div class="row">
                    
                      <div class="col-md-6">
                        <div  class="form-group">
                          <input [(ngModel)]="groupName" class="inputField" type="text" id="groupName"> 
                          <label class="inputLabel" for="groupName">Group Name*:</label>
                          
                     

                          <div class="input-group" style="height: 26px;">
                         
                            <!-- <input type="text" class="form-control m-input" placeholder="Group Name" [(ngModel)]="groupName"> -->
                            <!-- <button class="btn-sm btn-primary" style="height: 34px;" (click)="createGroup()">Create Group</button> -->
                        </div>
  
                  
                      </div>
                      
                    
                    </div>
                    </div>
                  </div>
               
          
              </div>
                <div class="modal-footer">
                  <button type="button" id="cncl"  class="common-btn btn-light-red" data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button>
                  <!-- <button type="button" id="cncl" (click)="detailsClose()" class="common-btn btn-light-red" data-bs-dismiss="modal">{{"LC20-34M"|lang}}</button> -->
                  <!-- <button  type="submit" class="common-btn btn-blue" >{{"LC20-33M"|lang}}</button> -->
                  <!-- <button *ngIf="!editMode"  type="submit" class="common-btn btn-blue" (click)="createGroup()">{{"LC20-33M"|lang}}</button> -->
                  <!-- <button *ngIf="!showDetails" type="submit" class="common-btn btn-blue">{{"LC20-33M"|lang}}</button> -->

                  <!-- <button *ngIf="editMode" class="common-btn btn-danger" (click)="submitEditGroup()">Update</button> -->
                  <!-- <button *ngIf="editMode"  type="submit" class="common-btn btn-blue" (click)="submitEditGroup()">Update</button> -->

                  <button type="button" class="common-btn btn-blue" (click)="editMode ? submitEditGroup() : createGroup()">
                    {{ editMode ? 'Update' : 'Save' }}
                  </button>
                </div>
              </div>
                
              <!-- </form> -->
              <!-- </div> -->
              
          </div>
        </div>
      </div>
    </div>
  </div>

